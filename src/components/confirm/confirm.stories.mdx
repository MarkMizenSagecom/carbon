import { useState } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

import Confirm from '.';
import Button from '../button';

<Meta
  title="Confirm"
  parameters={{ info: { disable: true }}}
/>

# Confirm
Confirms or cancels an action.

Shows a static message in a dialog which asks the user to confirm or cancel an action theyâ€™ve initiated.

Useful to confirm actions which may be difficult to undo, or potentially harmful.

Include a Message component within the Alert component (a warning Message component may be particularly useful for a potentially harmful choice), use plain text, or apply a standard Carbon Error or Warning icon.

This component has the same options and properties as the Dialog component.

A good example could be confirming deletion of a large number of records.

## Related Components
- Longer message which stays on-screen? [Try Message](/?path=/docs/message--default-story "Message").
- Longer, time sensitive message that must be dismissed? [Try Toast](/?path=/docs/design-system-toast--default-story "Toast").
- Error or warning message that interrupts activity? [Try Alert](/?path=/docs/alert--default-story "Alert").
- Simple task in context? [Try Dialog](/?path=/docs/dialog--default-story "Dialog").

## Quick Start

Import the component and use as shown below:

```jsx
import Confirm from "carbon-react/lib/components/confirm";

const MyComponent = ({ isOpen, handleClose, handleConfirm }) => (
  <Confirm
    onCancel={ handleClose }
    onConfirm={ handleConfirm }
    title="Title"
    subtitle="Subtitle"
    open={ isOpen }
  >
    Are you sure?
  </Confirm>
);
```

### Default

<Preview>
  <Story name="default" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Confirm
          </Button>
          <Confirm
            title="Are you sure?"
            subtitle="Subtitle"
            open={ isOpen }
            onConfirm={ () => setIsOpen(false) }
            onCancel={ () => setIsOpen(false) }
          >
            Content
          </Confirm>
        </>
      )
    }}
  </Story>
</Preview>


### Single action

<Preview>
  <Story name="single action" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Confirm
          </Button>
          <Confirm
            title="Are you sure?"
            subtitle="Subtitle"
            open={ isOpen }
            onConfirm={ () => setIsOpen(false) }
          >
            Content
          </Confirm>
        </>
      )
    }}
  </Story>
</Preview>


## `destructive`

<Preview>
  <Story name="confirm - destructive" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Confirm
          </Button>
          <Confirm
            title="Are you sure?"
            subtitle="Subtitle"
            destructive
            cancelButtonType="tertiary"
            open={ isOpen }
            onConfirm={ () => setIsOpen(false) }
            onCancel={ () => setIsOpen(false) }
          >
            Content
          </Confirm>
        </>
      )
    }}
  </Story>
</Preview>

## `disabledConfirm`

<Preview>
  <Story name="confirm - disabledConfirm" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Confirm
          </Button>
          <Confirm
            title="Are you sure?"
            subtitle="Subtitle"
            destructive
            disabledConfirm
            open={ isOpen }
            onConfirm={ () => setIsOpen(false) }
            onCancel={ () => setIsOpen(false) }
          >
            Content
          </Confirm>
        </>
      )
    }}
  </Story>
</Preview>

## `disabledCancel`

<Preview>
  <Story name="confirm - disabledCancel" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Confirm
          </Button>
          <Confirm
            title="Are you sure?"
            subtitle="Subtitle"
            disabledCancel
            open={ isOpen }
            onConfirm={ () => setIsOpen(false) }
            onCancel={ () => setIsOpen(false) }
          >
            Content
          </Confirm>
        </>
      )
    }}
  </Story>
</Preview>

##  `cancelButtonType`
Allows to set variant which is supported in `<Button />` and it will be applied to the `cancel` button

<Preview>
  <Story name="confirm - cancelButtonType" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Confirm
          </Button>
          <Confirm
            title="Are you sure?"
            subtitle="Subtitle"
            cancelButtonType="tertiary"
            open={ isOpen }
            onConfirm={ () => setIsOpen(false) }
            onCancel={ () => setIsOpen(false) }
          >
            Content
          </Confirm>
        </>
      )
    }}
  </Story>
</Preview>

## `isLoading`

<Preview>
  <Story name="confirm - isLoading" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Confirm
          </Button>
          <Confirm
            title="Are you sure?"
            subtitle="Subtitle"
            isLoading
            open={ isOpen }
            onConfirm={ () => setIsOpen(false) }
            onCancel={ () => setIsOpen(false) }
          >
            Content
          </Confirm>
        </>
      )
    }}
  </Story>
</Preview>

## Props:

### Confirm

<Props of={Confirm} />
